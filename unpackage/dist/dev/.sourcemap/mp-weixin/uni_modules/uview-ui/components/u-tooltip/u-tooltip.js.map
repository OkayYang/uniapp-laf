{"version":3,"sources":["webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?5c8d","webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?5945","webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?fcb8","webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?f14f","uni-app:///uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue","webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?1587","webpack:///W:/CODE/git/uniapp/uniapp-laf/uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue?63d7"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AACmL;AACnL,gBAAgB,iLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAsrB,CAAgB,uoBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2F1sB,gF;;;;;;;AAOA;;;;;;;;;;;;;;;;;;;AAmBA;AACA,mBADA;AAEA,wDAFA;AAGA,MAHA,kBAGA;AACA;AACA;AACA,uBAFA;AAGA;AACA,2BAJA;AAKA,8BALA;AAMA;AACA,wBAPA;AAQA;AACA;AACA,gBADA;AAEA,eAFA,EATA;;AAaA;AACA;AACA,gBADA;AAEA,eAFA,EAdA;;AAkBA;AACA,wBAnBA;AAoBA;AACA,mBArBA;AAsBA;AACA,wBAvBA;;AAyBA,GA7BA;AA8BA;AACA,eADA,yBACA;AACA;AACA,KAHA,EA9BA;;AAmCA;AACA;AACA;AACA,eAHA,yBAGA;AACA;AACA,KALA;AAMA;AACA,gBAPA,0BAOA;AACA;AACA,yFADA;;AAGA,wBAHA;AAIA,0BAJA;AAKA,8BALA;AAMA;AACA;AACA;AACA;AACA,SADA;AAEA,OALA,MAKA;AACA,oBADA,EACA;AACA;AACA;AACA;AACA,sBADA,GACA,CADA;AAEA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KAtCA,EAnCA;;AA2EA,SA3EA,qBA2EA;AACA;AACA,GA7EA;AA8EA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA;AACA,oBALA,8BAKA;AACA;AACA,yCAFA;AAGA,KARA;AASA;AACA,uBAVA,iCAUA;AACA;AACA,KAZA;AAaA;AACA,mBAdA,2BAcA,KAdA,EAcA;AACA;AACA;AACA;AACA,KAlBA;AAmBA;AACA,aApBA,qBAoBA,GApBA,EAoBA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OAJA;;;;;;;;;;;;AAgBA,KAxCA;AAyCA;AACA,aA1CA,uBA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA,SAFA;AAGA,OATA;AAUA,KAxDA;AAyDA;AACA,oBA1DA,8BA0DA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAFA;AAGA;AACA;AACA,SALA;AAMA;AACA;AACA,SARA;AASA;AACA;AACA,SAXA;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,KAnGA,EA9EA,E;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAAyzC,CAAgB,8pCAAG,EAAC,C;;;;;;;;;;;ACA70C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/uview-ui/components/u-tooltip/u-tooltip.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-tooltip.vue?vue&type=template&id=204d14c1&scoped=true&\"\nvar renderjs\nimport script from \"./u-tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./u-tooltip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./u-tooltip.vue?vue&type=style&index=0&id=204d14c1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"204d14c1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uview-ui/components/u-tooltip/u-tooltip.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-tooltip.vue?vue&type=template&id=204d14c1&scoped=true&\"","var components\ntry {\n  components = {\n    uOverlay: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uTransition: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-transition/u-transition\" */ \"@/uni_modules/uview-ui/components/u-transition/u-transition.vue\"\n      )\n    },\n    uLine: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-line/u-line\" */ \"@/uni_modules/uview-ui/components/u-line/u-line.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.$u.addStyle(_vm.customStyle)])\n\n  var a0 = Object.assign(\n    {},\n    {\n      position: \"absolute\",\n      top: _vm.$u.addUnit(_vm.tooltipTop),\n      zIndex: _vm.zIndex\n    },\n    _vm.tooltipStyle\n  )\n  var s1 =\n    _vm.showCopy || _vm.buttons.length\n      ? _vm.__get_style([\n          _vm.indicatorStyle,\n          {\n            width: _vm.$u.addUnit(_vm.indicatorWidth),\n            height: _vm.$u.addUnit(_vm.indicatorWidth)\n          }\n        ])\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        a0: a0,\n        s1: s1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-tooltip.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view\r\n\t\tclass=\"u-tooltip\"\r\n\t\t:style=\"[$u.addStyle(customStyle)]\"\r\n\t>\r\n\t\t<u-overlay\r\n\t\t\t:show=\"showTooltip && tooltipTop !== -10000 && overlay\"\r\n\t\t\tcustomStyle=\"backgroundColor: rgba(0, 0, 0, 0)\"\r\n\t\t\t@click=\"overlayClickHandler\"\r\n\t\t></u-overlay>\r\n\t\t<view class=\"u-tooltip__wrapper\">\r\n\t\t\t<text\r\n\t\t\t\tclass=\"u-tooltip__wrapper__text\"\r\n\t\t\t\t:id=\"textId\"\r\n\t\t\t\t:ref=\"textId\"\r\n\t\t\t\t:userSelect=\"false\"\r\n\t\t\t\t:selectable=\"false\"\r\n\t\t\t\t@longpress.stop=\"longpressHandler\"\r\n\t\t\t\t:style=\"{\r\n\t\t\t\t\tbackgroundColor: bgColor && showTooltip && tooltipTop !== -10000 ? bgColor : 'transparent'\r\n\t\t\t\t}\"\r\n\t\t\t>{{ text }}</text>\r\n\t\t\t<u-transition\r\n\t\t\t\tmode=\"fade\"\r\n\t\t\t\t:show=\"showTooltip\"\r\n\t\t\t\tduration=\"300\"\r\n\t\t\t\t:customStyle=\"{\r\n\t\t\t\t\tposition: 'absolute', \r\n\t\t\t\t\ttop: $u.addUnit(tooltipTop),\r\n\t\t\t\t\tzIndex: zIndex,\r\n\t\t\t\t\t...tooltipStyle\r\n\t\t\t\t}\"\r\n\t\t\t>\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"u-tooltip__wrapper__popup\"\r\n\t\t\t\t\t:id=\"tooltipId\"\r\n\t\t\t\t\t:ref=\"tooltipId\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"u-tooltip__wrapper__popup__indicator\"\r\n\t\t\t\t\t\thover-class=\"u-tooltip__wrapper__popup__indicator--hover\"\r\n\t\t\t\t\t\tv-if=\"showCopy || buttons.length\"\r\n\t\t\t\t\t\t:style=\"[indicatorStyle, {\r\n\t\t\t\t\t\t\twidth: $u.addUnit(indicatorWidth),\r\n\t\t\t\t\t\t\theight: $u.addUnit(indicatorWidth),\r\n\t\t\t\t\t\t}]\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<!-- 由于nvue不支持三角形绘制，这里就做一个四方形，再旋转45deg，得到露出的一个三角 -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"u-tooltip__wrapper__popup__list\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tv-if=\"showCopy\"\r\n\t\t\t\t\t\t\tclass=\"u-tooltip__wrapper__popup__list__btn\"\r\n\t\t\t\t\t\t\thover-class=\"u-tooltip__wrapper__popup__list__btn--hover\"\r\n\t\t\t\t\t\t\t@tap=\"setClipboardData\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tclass=\"u-tooltip__wrapper__popup__list__btn__text\"\r\n\t\t\t\t\t\t\t>复制</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-line\r\n\t\t\t\t\t\t\tdirection=\"column\"\r\n\t\t\t\t\t\t\tcolor=\"#8d8e90\"\r\n\t\t\t\t\t\t\tv-if=\"showCopy && buttons.length > 0\"\r\n\t\t\t\t\t\t\tlength=\"18\"\r\n\t\t\t\t\t\t></u-line>\r\n\t\t\t\t\t\t<block v-for=\"(item , index) in buttons\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"u-tooltip__wrapper__popup__list__btn\"\r\n\t\t\t\t\t\t\t\thover-class=\"u-tooltip__wrapper__popup__list__btn--hover\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\tclass=\"u-tooltip__wrapper__popup__list__btn__text\"\r\n\t\t\t\t\t\t\t\t\t@tap=\"btnClickHandler(index)\"\r\n\t\t\t\t\t\t\t\t>{{ item }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<u-line\r\n\t\t\t\t\t\t\t\tdirection=\"column\"\r\n\t\t\t\t\t\t\t\tcolor=\"#8d8e90\"\r\n\t\t\t\t\t\t\t\tv-if=\"index < buttons.length - 1\"\r\n\t\t\t\t\t\t\t\tlength=\"18\"\r\n\t\t\t\t\t\t\t></u-line>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-transition>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport props from './props.js';\r\n\t// #ifdef APP-NVUE \r\n\tconst dom = uni.requireNativePlugin('dom')\r\n\t// #endif\r\n\t// #ifdef H5\r\n\timport ClipboardJS from \"./clipboard.min.js\"\r\n\t// #endif\r\n\t/**\r\n\t * Tooltip \r\n\t * @description \r\n\t * @tutorial https://www.uviewui.com/components/tooltip.html\r\n\t * @property {String | Number}\ttext\t\t需要显示的提示文字\r\n\t * @property {String | Number}\tcopyText\t点击复制按钮时，复制的文本，为空则使用text值\r\n\t * @property {String | Number}\tsize\t\t文本大小（默认 14 ）\r\n\t * @property {String}\t\t\tcolor\t\t字体颜色（默认 '#606266' ）\r\n\t * @property {String}\t\t\tbgColor\t\t弹出提示框时，文本的背景色（默认 'transparent' ）\r\n\t * @property {String}\t\t\tdirection\t弹出提示的方向，top-上方，bottom-下方（默认 'top' ）\r\n\t * @property {String | Number}\tzIndex\t\t弹出提示的z-index，nvue无效（默认 10071 ）\r\n\t * @property {Boolean}\t\t\tshowCopy\t是否显示复制按钮（默认 true ）\r\n\t * @property {Array}\t\t\tbuttons\t\t扩展的按钮组\r\n\t * @property {Boolean}\t\t\toverlay\t\t是否显示透明遮罩以防止触摸穿透（默认 true ）\r\n\t * @property {Object}\t\t\tcustomStyle\t定义需要用到的外部样式\r\n\t * \r\n\t * @event {Function} \r\n\t * @example \r\n\t */\r\n\texport default {\r\n\t\tname: 'u-tooltip',\r\n\t\tmixins: [uni.$u.mpMixin, uni.$u.mixin, props],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 是否展示气泡\r\n\t\t\t\tshowTooltip: true,\r\n\t\t\t\t// 生成唯一id，防止一个页面多个组件，造成干扰\r\n\t\t\t\ttextId: uni.$u.guid(),\r\n\t\t\t\ttooltipId: uni.$u.guid(),\r\n\t\t\t\t// 初始时甚至为很大的值，让其移到屏幕外面，为了计算元素的尺寸\r\n\t\t\t\ttooltipTop: -10000,\r\n\t\t\t\t// 气泡的位置信息\r\n\t\t\t\ttooltipInfo: {\r\n\t\t\t\t\twidth: 0,\r\n\t\t\t\t\tleft: 0\r\n\t\t\t\t},\r\n\t\t\t\t// 文本的位置信息\r\n\t\t\t\ttextInfo: {\r\n\t\t\t\t\twidth: 0,\r\n\t\t\t\t\tleft: 0\r\n\t\t\t\t},\r\n\t\t\t\t// 三角形指示器的样式\r\n\t\t\t\tindicatorStyle: {},\r\n\t\t\t\t// 气泡在可能超出屏幕边沿范围时，重新定位后，距离屏幕边沿的距离\r\n\t\t\t\tscreenGap: 12,\r\n\t\t\t\t// 三角形指示器的宽高，由于对元素进行了角度旋转，精确计算指示器位置时，需要用到其尺寸信息\r\n\t\t\t\tindicatorWidth: 14,\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tpropsChange() {\r\n\t\t\t\tthis.getElRect()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 特别处理H5的复制，因为H5浏览器是自带系统复制功能的，在H5环境\r\n\t\t\t// 当一些依赖参数变化时，需要重新计算气泡和指示器的位置信息\r\n\t\t\tpropsChange() {\r\n\t\t\t\treturn [this.text, this.buttons]\r\n\t\t\t},\r\n\t\t\t// 计算气泡和指示器的位置信息\r\n\t\t\ttooltipStyle() {\r\n\t\t\t\tconst style = {\r\n\t\t\t\t\t\ttransform: `translateY(${this.direction === 'top' ? '-100%' : '100%'})`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsys = uni.$u.sys(),\r\n\t\t\t\t\tgetPx = uni.$u.getPx,\r\n\t\t\t\t\taddUnit = uni.$u.addUnit\r\n\t\t\t\tif (this.tooltipInfo.width / 2 > this.textInfo.left + this.textInfo.width / 2 - this.screenGap) {\r\n\t\t\t\t\tthis.indicatorStyle = {}\r\n\t\t\t\t\tstyle.left = `-${addUnit(this.textInfo.left - this.screenGap)}`\r\n\t\t\t\t\tthis.indicatorStyle.left = addUnit(this.textInfo.width / 2 - getPx(style.left) - this.indicatorWidth /\r\n\t\t\t\t\t\t2)\r\n\t\t\t\t} else if (this.tooltipInfo.width / 2 > sys.windowWidth - this.textInfo.right + this.textInfo.width / 2 -\r\n\t\t\t\t\tthis.screenGap) {\r\n\t\t\t\t\tthis.indicatorStyle = {}\r\n\t\t\t\t\tstyle.right = `-${addUnit(sys.windowWidth - this.textInfo.right - this.screenGap)}`\r\n\t\t\t\t\tthis.indicatorStyle.right = addUnit(this.textInfo.width / 2 - getPx(style.right) - this\r\n\t\t\t\t\t\t.indicatorWidth / 2)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst left = Math.abs(this.textInfo.width / 2 - this.tooltipInfo.width / 2)\r\n\t\t\t\t\tstyle.left = this.textInfo.width > this.tooltipInfo.width ? addUnit(left) : -addUnit(left)\r\n\t\t\t\t\tthis.indicatorStyle = {}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.direction === 'top') {\r\n\t\t\t\t\tstyle.marginTop = '-10px'\r\n\t\t\t\t\tthis.indicatorStyle.bottom = '-4px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstyle.marginBottom = '-10px'\r\n\t\t\t\t\tthis.indicatorStyle.top = '-4px'\r\n\t\t\t\t}\r\n\t\t\t\treturn style\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tthis.getElRect()\r\n\t\t\t},\r\n\t\t\t// 长按触发事件\r\n\t\t\tasync longpressHandler() {\r\n\t\t\t\tthis.tooltipTop = 0\r\n\t\t\t\tthis.showTooltip = true\r\n\t\t\t},\r\n\t\t\t// 点击透明遮罩\r\n\t\t\toverlayClickHandler() {\r\n\t\t\t\tthis.showTooltip = false\r\n\t\t\t},\r\n\t\t\t// 点击弹出按钮\r\n\t\t\tbtnClickHandler(index) {\r\n\t\t\t\tthis.showTooltip = false\r\n\t\t\t\t// 如果需要展示复制按钮，此处index需要加1，因为复制按钮在第一个位置\r\n\t\t\t\tthis.$emit('click', this.showCopy ? index + 1 : index)\r\n\t\t\t},\r\n\t\t\t// 查询内容高度\r\n\t\t\tqueryRect(ref) {\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\t// $uGetRect为uView自带的节点查询简化方法，详见文档介绍：https://www.uviewui.com/js/getRect.html\r\n\t\t\t\t// 组件内部一般用this.$uGetRect，对外的为uni.$u.getRect，二者功能一致，名称不同\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tthis.$uGetRect(`#${ref}`).then(size => {\r\n\t\t\t\t\t\tresolve(size)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\t// nvue下，使用dom模块查询元素高度\r\n\t\t\t\t// 返回一个promise，让调用此方法的主体能使用then回调\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tdom.getComponentRect(this.$refs[ref], res => {\r\n\t\t\t\t\t\tresolve(res.size)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t// 元素尺寸\r\n\t\t\tgetElRect() {\r\n\t\t\t\t// 调用之前，先将指示器调整到屏幕外，方便获取尺寸\r\n\t\t\t\tthis.showTooltip = true\r\n\t\t\t\tthis.tooltipTop = -10000\r\n\t\t\t\tuni.$u.sleep(500).then(() => {\r\n\t\t\t\t\tthis.queryRect(this.tooltipId).then(size => {\r\n\t\t\t\t\t\tthis.tooltipInfo = size\r\n\t\t\t\t\t\t// 获取气泡尺寸之后，将其隐藏，为了让下次切换气泡显示与隐藏时，有淡入淡出的效果\r\n\t\t\t\t\t\tthis.showTooltip = false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.queryRect(this.textId).then(size => {\r\n\t\t\t\t\t\tthis.textInfo = size\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 复制文本到粘贴板\r\n\t\t\tsetClipboardData() {\r\n\t\t\t\t// 关闭组件\r\n\t\t\t\tthis.showTooltip = false\r\n\t\t\t\tthis.$emit('click', 0)\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\t// 优先使用copyText字段，如果没有，则默认使用text字段当做复制的内容\r\n\t\t\t\t\tdata: this.copyText || this.text,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.showToast && uni.$u.toast('复制成功')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.showToast && uni.$u.toast('复制失败')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.showTooltip = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tlet event = window.event || e || {}\r\n\t\t\t\tlet clipboard = new ClipboardJS('', {\r\n\t\t\t\t\ttext: () => this.copyText || this.text\r\n\t\t\t\t})\r\n\t\t\t\tclipboard.on('success', (e) => {\r\n\t\t\t\t\tthis.showToast && uni.$u.toast('复制成功')\r\n\t\t\t\t\tclipboard.off('success')\r\n\t\t\t\t\tclipboard.off('error')\r\n\t\t\t\t\t// 在单页应用中，需要销毁DOM的监听\r\n\t\t\t\t\tclipboard.destroy()\r\n\t\t\t\t})\r\n\t\t\t\tclipboard.on('error', (e) => {\r\n\t\t\t\t\tthis.showToast && uni.$u.toast('复制失败')\r\n\t\t\t\t\tclipboard.off('success')\r\n\t\t\t\t\tclipboard.off('error')\r\n\t\t\t\t\t// 在单页应用中，需要销毁DOM的监听\r\n\t\t\t\t\tclipboard.destroy()\r\n\t\t\t\t})\r\n\t\t\t\tclipboard.onClick(event)\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"../../libs/css/components.scss\";\r\n\r\n\t.u-tooltip {\r\n\t\tposition: relative;\r\n\t\t@include flex;\r\n\r\n\t\t&__wrapper {\r\n\t\t\t@include flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\twhite-space: nowrap;\r\n\t\t\t/* #endif */\r\n\r\n\t\t\t&__text {\r\n\t\t\t\tcolor: $u-content-color;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t}\r\n\r\n\t\t\t&__popup {\r\n\t\t\t\t@include flex;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t&__list {\r\n\t\t\t\t\tbackground-color: #060607;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t\tpadding: 0px 0;\r\n\t\t\t\t\t@include flex(row);\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t&__btn {\r\n\t\t\t\t\t\tpadding: 11px 13px;\r\n\r\n\t\t\t\t\t\t&--hover {\r\n\t\t\t\t\t\t\tbackground-color: #58595B;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&__text {\r\n\t\t\t\t\t\t\tline-height: 12px;\r\n\t\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&__indicator {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbackground-color: #060607;\r\n\t\t\t\t\twidth: 14px;\r\n\t\t\t\t\theight: 14px;\r\n\t\t\t\t\tbottom: -4px;\r\n\t\t\t\t\ttransform: rotate(45deg);\r\n\t\t\t\t\tborder-radius: 2px;\r\n\t\t\t\t\tz-index: -1;\r\n\r\n\t\t\t\t\t&--hover {\r\n\t\t\t\t\t\tbackground-color: #58595B;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-tooltip.vue?vue&type=style&index=0&id=204d14c1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../APP/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-tooltip.vue?vue&type=style&index=0&id=204d14c1&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654694860031\n      var cssReload = require(\"W:/APP/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}